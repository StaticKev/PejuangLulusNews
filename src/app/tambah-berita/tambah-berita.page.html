<ion-header>
  <ion-toolbar>
    <ion-title>Tambah Berita</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form [formGroup]="form" (ngSubmit)="submit()" class="ion-padding">
    <ion-item>
      <ion-label position="stacked">Judul</ion-label>
      <ion-input formControlName="judul" placeholder="Masukan judul"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="stacked">Tanggal (contoh: 28 Sep 2025, 10:30:00AM)</ion-label>
      <ion-input formControlName="tanggal" placeholder="28 Sep 2025, 10:30:00AM"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="stacked">Foto Utama (URL)</ion-label>
      <ion-input formControlName="foto_utama" placeholder="https://..."></ion-input>
    </ion-item>

    <ion-item>
        <ion-label position="stacked">Pilih Kategori</ion-label>
    </ion-item>      

    <ion-item>
        <div style="display: flex; flex-wrap: wrap; gap: 12px; margin-top: 8px; margin-bottom: 8px;">
            <div *ngFor="let k of listKategori" style="display: flex; align-items: center;">
              <ion-checkbox
                [value]="k.nama"
                (ionChange)="toggleKategori(k.id, $event.detail.checked)">
              </ion-checkbox>
              <ion-label class="ion-margin-start">{{ k.nama }}</ion-label>
            </div>
          </div>
    </ion-item>

    <div class="gambar-list">
      <label class="ion-padding-start">Gambar Konten (bisa banyak)</label>
      <div *ngFor="let ctrl of gambarKontenControls; let i = index" class="ion-padding">
        <ion-item>
          <ion-input [formControl]="ctrl" placeholder="URL Gambar"></ion-input>
          <ion-button fill="clear" color="danger" (click)="removeGambar(i)">Hapus</ion-button>
        </ion-item>
      </div>
      <ion-button expand="block" (click)="addGambar()">Tambah Gambar</ion-button>
    </div>

    <ion-item>
      <ion-label position="stacked">Isi</ion-label>
      <ion-textarea formControlName="isi" rows="6" placeholder="Tulis isi berita..."></ion-textarea>
    </ion-item>

    <ion-button expand="block" type="submit" class="ion-margin-top">Simpan Berita</ion-button>
  </form>
</ion-content>
